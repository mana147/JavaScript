<!doctype html>

<body>
    <style>
        /* document style won't apply to the shadow tree inside #elem (1) */
        p {
            color: red;
        }
    </style>

    <div id="elem"> </div>
    <p> hello </p>
    <script>
        elem.attachShadow({ mode: 'open' });
        // shadow tree has its own style (2)
        elem.shadowRoot.innerHTML = `
            <style> 
                p { 
                    font-weight: bold; 
                } 
            </style>
            
            <p> Hello, John! </p>
        `;

        // <p> is only visible from queries inside the shadow tree (3)
        console.log(document.querySelectorAll('p').length); // 0
        console.log(elem.shadowRoot.querySelectorAll('p').length); // 1
    </script>
</body>