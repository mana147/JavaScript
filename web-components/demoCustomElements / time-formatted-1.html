<!doctype html>
<html>

<head>
    <title>Page Title</title>
    <script>

        // khởi tạo class kế thừa từ HTML Element 

        class TimeFormat extends HTMLElement { // (1)
            constructor() {
                //  kế thừa toàn bộ thuộc tính của HTMLElement
                super();
                // element created

            };

            // trình duyệt gọi phương thức này khi phần tử được thêm vào document
            connectedCallback() {

                console.log(this);

                // lấy giá trị thuộc tính của tag datetime 
                let datetime = this.getAttribute('datetime');

                // kiểm tra xem datatime có giá trị hay không
                if (datetime) {

                    let date = new Date(datetime);

                    console.log(`thời gian setup : ${date} `);

                    this.innerHTML = date;

                } else {
                    let dateNow = Date.now();

                    let date = new Date(dateNow);

                    this.innerHTML = `chưa có thời gian được setup , 
                                      lấy thời gian hiện tại : ${date} `;
                }
            };
        };

        // báo cho browser biết rằng <time-formatted> được cung cấp bởi class mới
        customElements.define("time-format", TimeFormat); // (2)
    </script>

</head>

<body>


    <time-format datetime="2019-12-01"> </time-format>
</body>

</html>